<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì§ì› í™•ì¸</title>
  <!-- Bootstrap CSS ë§í¬ -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script>
    function checkEmployee(event) {
      event.preventDefault();

      const sabun = document.querySelector("#sabun").value;
      const irum = document.querySelector("#irum").value;

      fetch("/checkEmployee", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ sabun, irum })
      })
      .then(res => res.json())
      .then(data => {
        if (data.valid) {
          // ìœ íš¨í•œ ì§ì›ì¼ ê²½ìš° result.htmlë¡œ ì´ë™
          window.location.href = `/result.html?sabun=${sabun}&irum=${encodeURIComponent(irum)}`;
        } else {
          // ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ ë©”ì‹œì§€ í‘œì‹œ
          document.querySelector("#msg").innerHTML =
            "<div class='alert alert-danger mt-3'>âš ï¸ ì§ì›ì •ë³´ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”.</div>";
        }
      });
    }
  </script>
</head>
<body class="bg-white text-dark container py-5">
  <h3 class="mb-4">ğŸ‘¤ ë‹´ë‹¹ ê³ ê° ì¡°íšŒ</h3>
  <form onsubmit="checkEmployee(event)">
    <div class="mb-3">
      <label for="sabun" class="form-label">ì§ì›ë²ˆí˜¸</label>
      <input type="text" class="form-control" id="sabun" required>
    </div>
    <div class="mb-3">
      <label for="irum" class="form-label">ì§ì›ì´ë¦„</label>
      <input type="text" class="form-control" id="irum" required>
    </div>
    <button type="submit" class="btn btn-outline-dark">í™•ì¸</button>
  </form>
  <div id="msg"></div>
</body>
</html>
